{
  "interfaces": [
    {
      "label": "UNIT-INTERFACE",
      "states": [
        { "label": "UNIT-STATE", "actions": ["UNIT-ACTION"] }
      ]
    },
    {
      "label": "STATE-MACHINE",
      "states": [
        { "label": "A", "actions": ["AtoA", "AtoB"] },
        { "label": "B", "actions": ["BtoA", "BtoB"] }
      ]
    },
    {
      "label": "WORDS",
      "states": [
        { "label": "X", "actions": ["0to0", "0to1"] },
        { "label": "Y", "actions": ["1to0"] }
      ]
    }
  ],
  "lenses": [
    {
      "label": "state-machine-comult",
      "source": {
        "once": { "label": "STATE-MACHINE" }
      },
      "target": {
        "exactly" : {
          "iterations": 2,
          "label": "STATE-MACHINE"
        }
      },
      "rules": [
        { "from": ["AtoA", "AtoA"], "to": ["AtoA"] },
        { "from": ["AtoA", "AtoB"], "to": ["AtoB"] },
        { "from": ["AtoB", "BtoA"], "to": ["AtoA"] },
        { "from": ["AtoB", "BtoB"], "to": ["AtoB"] },
    
        { "from": ["BtoA", "AtoA"], "to": ["BtoA"] },
        { "from": ["BtoA", "AtoB"], "to": ["BtoB"] },
        { "from": ["BtoB", "BtoA"], "to": ["BtoA"] },
        { "from": ["BtoB", "BtoB"], "to": ["BtoB"] }
      ]
    },
    {
      "label": "state-machine-counit",
      "source": {
        "once": { "label": "STATE-MACHINE" }
      },
      "target": {
        "once": { "label": "UNIT-INTERFACE" }
      },
      "rules": [
        { "from": ["UNIT-ACTION"], "to": ["AtoA"] },
        { "from": ["UNIT-ACTION"], "to": ["BtoB"] }
      ]
    },
    {
      "label": "word-generator",
      "source": {
        "once": { "label": "STATE-MACHINE" }
      },
      "target": {
        "once": { "label": "WORDS" }
      },
      "rules": [
        { "from": ["0to0"], "to": ["AtoA"] },
        { "from": ["0to1"], "to": ["AtoB"] },
        { "from": ["1to0"], "to": ["BtoA"] }
      ]
    }
  ],
  "diagram": {
    "where": [],
    "source": {
      "once": {
        "label": "STATE-MACHINE"
      }
    },
    "target": {
      "any": {
        "label": "WORDS"
      }
    }
  }
}