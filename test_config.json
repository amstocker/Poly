{
  "interfaces": [
    {
      "label": "UNIT-INTERFACE",
      "states": [
        { "label": "UNIT-STATE",  "actions": ["UNIT-ACTION"] }
      ]
    },
    {
      "label": "STATE-MACHINE",
      "states": [
        { "label": "A",     "actions": ["AtoA", "AtoB"] },
        { "label": "B",     "actions": ["BtoA", "BtoB"] }
      ]
    },
    {
      "label": "WORDS",
      "states": [
        { "label": "X",     "actions": ["0to0", "0to1"] },
        { "label": "Y",     "actions": ["1to0"] }
      ]
    }
  ],
  "lenses": [
    {
      "label": "state-machine-comult",
      "source": "STATE-MACHINE",
      "target": "STATE-MACHINE",
      "rules": [
        { "from": ["AtoA", "AtoA"], "to": ["AtoA"] },
        { "from": ["AtoA", "AtoB"], "to": ["AtoB"] },
        { "from": ["AtoB", "BtoA"], "to": ["AtoA"] },
        { "from": ["AtoB", "BtoB"], "to": ["AtoB"] },
    
        { "from": ["BtoA", "AtoA"], "to": ["BtoA"] },
        { "from": ["BtoA", "AtoB"], "to": ["BtoB"] },
        { "from": ["BtoB", "BtoA"], "to": ["BtoA"] },
        { "from": ["BtoB", "BtoB"], "to": ["BtoB"] }
      ]
    },
    {
      "label": "state-machine-counit",
      "source": "STATE-MACHINE",
      "target": "UNIT-INTERFACE",
      "rules": [
        { "from": ["UNIT-ACTION"], "to": ["AtoA"] },
        { "from": ["UNIT-ACTION"], "to": ["BtoB"] }
      ]
    },
    {
      "label": "word-generator",
      "source": "STATE-MACHINE",
      "target": "WORDS",
      "rules": [
        { "from": ["0to0"], "to": ["AtoA"] },
        { "from": ["0to1"], "to": ["AtoB"] },
        { "from": ["1to0"], "to": ["BtoA"] }
      ]
    }
  ],
  "_diagram": [
    {
      "lens": "state-machine-comult"
    },
    {
      "op": "Any",
      "lens": "word-generator"
    }
  ],
  "diagram": {
    "where": [],
    "source": {
      "Exactly": "STATE-MACHINE"
    },
    "target": {
      "Any": "WORDS"
    }
  }
}